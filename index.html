<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<meta name="theme-color" content="#2563eb">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="CurrÃ­culos">
<meta name="description" content="GeraÃ§Ã£o estratÃ©gica de currÃ­culos personalizados com IA">

<title>CurrÃ­culos EstratÃ©gicos</title>

<!-- PWA Manifest -->
<link rel="manifest" href="/manifest.json">

<!-- Icons -->
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512.png">

<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,300;1,9..40,400&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">

<link rel="stylesheet" href="assets/css/main.css">

<style>
/* â”€â”€ Estilos internos pÃ¡gina â”€â”€ */
body.in-iframe .actions-bar { display: none !important; }
</style>
</head>
<body>

<!-- â”€â”€ Banner de InstalaÃ§Ã£o PWA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div id="installBanner">
  <span class="install-icon">ğŸ“²</span>
  <div class="install-text">
    <strong>Instalar como app</strong>
    <span>Funciona offline Â· iPhone, Android, Mac, Windows</span>
  </div>
  <div class="install-actions">
    <button class="btn-install" onclick="instalarApp()">Instalar</button>
    <button class="btn-dismiss" onclick="this.closest('#installBanner').style.display='none'">âœ•</button>
  </div>
</div>

<div class="container">
  <header class="header">
    <h1>ğŸ¯ CurrÃ­culos EstratÃ©gicos</h1>
    <p>Crie currÃ­culos otimizados com anÃ¡lise de elegibilidade por IA</p>
  </header>

  <div class="tabs">
    <button class="tab-btn active" data-tab="data">ğŸ“ Meus Dados</button>
    <button class="tab-btn" data-tab="vagas">ğŸ’¼ Vagas</button>
  </div>

  <!-- â”€â”€ ABA: Meus Dados â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="tab-content active" id="tab-data">
    <h2>Meus Dados Profissionais</h2>

    <!-- Backup -->
    <div class="backup-bar">
      <span>ğŸ’¾ Seus dados ficam <strong>no seu dispositivo</strong> (IndexedDB). FaÃ§a backups regularmente.</span>
      <button class="btn btn-secondary btn-small" onclick="exportarBackup()">â¬‡ï¸ Exportar Backup</button>
      <label class="btn btn-secondary btn-small">
        â¬†ï¸ Importar Backup
        <input type="file" accept=".json" style="display:none" onchange="importarBackup(event)">
      </label>
    </div>

    <div class="section">
      <h3>InformaÃ§Ãµes Pessoais</h3>
      <p class="help-text">Marque as informaÃ§Ãµes que deseja incluir nos currÃ­culos gerados:</p>
      <div class="form-grid">
        <div class="form-group">
          <label><input type="checkbox" id="include_name" checked disabled> Nome Completo *</label>
          <input type="text" id="name" placeholder="JoÃ£o Silva Santos" autocomplete="name">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_email" checked disabled> Email *</label>
          <input type="email" id="email" placeholder="joao.silva@email.com" autocomplete="email">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_phone"> Telefone / WhatsApp</label>
          <input type="tel" id="phone" placeholder="+55 (11) 98765-4321" autocomplete="tel">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_city"> Cidade</label>
          <input type="text" id="city" placeholder="SÃ£o Paulo" autocomplete="address-level2">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_state"> Estado</label>
          <input type="text" id="state" placeholder="SP" maxlength="2" autocomplete="address-level1">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_remote"> DisponÃ­vel para remoto</label>
          <input type="checkbox" id="remote"> Sim
        </div>
      </div>
      <div class="form-grid">
        <div class="form-group">
          <label><input type="checkbox" id="include_linkedin"> LinkedIn</label>
          <input type="url" id="linkedin" placeholder="https://linkedin.com/in/seuperfil">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_github"> GitHub</label>
          <input type="url" id="github" placeholder="https://github.com/seuusuario">
        </div>
        <div class="form-group">
          <label><input type="checkbox" id="include_portfolio"> PortfÃ³lio / Site</label>
          <input type="url" id="portfolio" placeholder="https://seusite.dev">
        </div>
      </div>
    </div>

    <div class="section">
      <h3>HistÃ³rico Profissional</h3>
      <p class="help-text">Cole seu histÃ³rico em Markdown â€” ele serÃ¡ usado como base para todos os currÃ­culos.</p>
      <textarea id="history" rows="20" placeholder="## EXPERIÃŠNCIA PROFISSIONAL

### Empresa XYZ â€” Desenvolvedor Senior | Jan 2022 - Atual

**Stack:** Node.js, TypeScript, PostgreSQL, AWS

**Responsabilidades:**
- Desenvolvimento de APIs REST
- Arquitetura de microsserviÃ§os

**MÃ©tricas:**
- ReduÃ§Ã£o de 60% na latÃªncia
- Processamento de 50M req/mÃªs"></textarea>
    </div>

    <div class="actions">
      <button class="btn btn-primary" onclick="saveData()">ğŸ’¾ Salvar Dados</button>
    </div>
    <div class="status" id="saveStatus"></div>
  </div>

  <!-- â”€â”€ ABA: Vagas â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
  <div class="tab-content" id="tab-vagas">
    <h2>Gerenciamento de Vagas</h2>
    <div class="section">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:12px;">
        <div>
          <label style="margin-right:10px;font-weight:600;">Filtrar:</label>
          <select id="statusFilter" onchange="filterVagas()" style="padding:8px 12px;border:1px solid var(--border);border-radius:6px;font-family:inherit;font-size:14px;">
            <option value="all">Todas</option>
            <option value="criada">Criada</option>
            <option value="aplicada">Aplicada</option>
            <option value="entrevista">Em Entrevista</option>
            <option value="rejeitada">Rejeitada</option>
            <option value="desisti">Desisti</option>
            <option value="nao_passei">NÃ£o Passei</option>
          </select>
        </div>
        <button class="btn btn-primary" onclick="openNovaVagaModal()">â• Nova Vaga</button>
      </div>
      <div id="vagasList"></div>
      <div id="pagination"></div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Nova Vaga                                                          -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="novaVagaModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" onclick="closeNovaVagaModal()">&times;</span>
    <h2>Nova Vaga</h2>

    <!-- Extrator URL (informativo na PWA) -->
    <div class="form-group" style="margin-bottom:20px;">
      <label style="display:block;margin-bottom:6px;">ğŸ”— Preencher via URL</label>
      <p style="font-size:12px;color:var(--text-secondary);margin-bottom:8px;">
        Cole o link da vaga do LinkedIn para preencher automaticamente.
      </p>
      <div style="display:flex;gap:8px;">
        <input type="url" id="modal_url_vaga" placeholder="https://www.linkedin.com/jobs/view/â€¦"
               style="flex:1;padding:10px 14px;border:1px solid var(--border);border-radius:6px;font-size:14px;">
        <button class="btn btn-primary btn-small" onclick="extrairVagaUrl()" id="btnExtrair">ğŸ” Extrair</button>
      </div>
      <div id="statusExtracao" class="status" style="margin-top:8px;"></div>
    </div>

    <div style="display:flex;align-items:center;gap:12px;margin-bottom:16px;">
      <div style="flex:1;height:1px;background:var(--border);"></div>
      <span style="font-size:12px;color:var(--text-secondary);">ou preencha manualmente</span>
      <div style="flex:1;height:1px;background:var(--border);"></div>
    </div>

    <div class="form-group" style="margin-bottom:16px;">
      <label>Empresa *</label>
      <input type="text" id="modal_empresa" placeholder="Nome da empresa">
    </div>
    <div class="form-group" style="margin-bottom:16px;">
      <label>Cargo *</label>
      <input type="text" id="modal_cargo" placeholder="Ex: Desenvolvedor Backend SÃªnior">
    </div>
    <div class="form-group" style="margin-bottom:16px;">
      <label>DescriÃ§Ã£o da Vaga *</label>
      <textarea id="modal_descricao" rows="10" placeholder="Cole aqui a descriÃ§Ã£o completa da vaga"></textarea>
    </div>
    <div class="actions">
      <button class="btn btn-primary" onclick="salvarNovaVaga()">ğŸ’¾ Salvar Vaga</button>
      <button class="btn btn-secondary" onclick="closeNovaVagaModal()">Cancelar</button>
    </div>
    <div class="status" id="modalStatus"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Editar Vaga                                                        -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="editVagaModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" onclick="closeEditVagaModal()">&times;</span>
    <h2>Editar Vaga</h2>
    <input type="hidden" id="edit_uuid">
    <div class="form-group" style="margin-bottom:16px;">
      <label>Empresa *</label>
      <input type="text" id="edit_empresa">
    </div>
    <div class="form-group" style="margin-bottom:16px;">
      <label>Cargo *</label>
      <input type="text" id="edit_cargo">
    </div>
    <div class="form-group" style="margin-bottom:16px;">
      <label>DescriÃ§Ã£o *</label>
      <textarea id="edit_descricao" rows="10"></textarea>
    </div>
    <div class="form-group" style="margin-bottom:16px;">
      <label>Status</label>
      <select id="edit_status">
        <option value="criada">Criada</option>
        <option value="aplicada">Aplicada</option>
        <option value="entrevista">Em Entrevista</option>
        <option value="rejeitada">Rejeitada</option>
        <option value="desisti">Desisti</option>
        <option value="nao_passei">NÃ£o Passei</option>
      </select>
    </div>
    <div class="actions">
      <button class="btn btn-primary" onclick="salvarEdicaoVaga()">ğŸ’¾ Salvar AlteraÃ§Ãµes</button>
      <button class="btn btn-secondary" onclick="closeEditVagaModal()">Cancelar</button>
    </div>
    <div class="status" id="editModalStatus"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Ver DescriÃ§Ã£o                                                      -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="descricaoModal" class="modal" style="display:none;">
  <div class="modal-content descricao-modal-content">
    <span class="close" onclick="closeDescricaoModal()">&times;</span>
    <h2 id="descricaoTitulo">DescriÃ§Ã£o da Vaga</h2>
    <pre id="descricaoTexto"></pre>
    <div class="actions" style="margin-top:16px;">
      <button class="btn btn-secondary" onclick="closeDescricaoModal()">Fechar</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Gerar Prompt                                                       -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="promptModal" class="modal" style="display:none;">
  <div class="modal-content modal-large">
    <span class="close" onclick="closePromptModal()">&times;</span>
    <h2>Prompt para ChatGPT</h2>
    <p class="help-text">Copie este prompt e cole no ChatGPT para gerar seu currÃ­culo estratÃ©gico:</p>
    <div class="output-box">
      <div class="output-header">
        <span>ğŸ“‹ Prompt Completo</span>
        <button class="btn btn-small btn-secondary" onclick="copyPrompt()">ğŸ“‹ Copiar</button>
      </div>
      <pre id="generatedPrompt"></pre>
    </div>
    <div class="actions">
      <button class="btn btn-primary" onclick="avancarParaColarResposta()">â¡ï¸ PrÃ³xima Etapa</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Colar / Editar JSON                                                -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="respostaModal" class="modal" style="display:none;">
  <div class="modal-content modal-large">
    <span class="close" onclick="closeRespostaModal()">&times;</span>
    <h2 id="respostaModalTitulo">Colar Resposta do ChatGPT</h2>
    <input type="hidden" id="resposta_vaga_uuid">
    <p class="help-text" id="respostaModalDescricao">Cole aqui o JSON completo retornado pelo ChatGPT:</p>
    <div class="form-group">
      <textarea id="jsonResposta" rows="18"
        placeholder='{ "versao": "1.0.0", "data_geracao": "2025-02-16", "elegibilidade": {...}, "curriculo": {...} }'></textarea>
    </div>
    <div class="actions">
      <button id="btnGerarCurriculo" class="btn btn-success btn-large" onclick="gerarCurriculo()">âœ¨ Gerar CurrÃ­culo</button>
      <button id="btnVoltarPrompt" class="btn btn-secondary" onclick="voltarParaPrompt()">â¬…ï¸ Voltar</button>
    </div>
    <div class="status" id="respostaStatus"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Elegibilidade + AÃ§Ãµes                                              -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="curriculoModal" class="modal" style="display:none;">
  <div class="modal-content modal-large">
    <span class="close" onclick="closeCurriculoModal()">&times;</span>
    <h2>AnÃ¡lise de Elegibilidade</h2>
    <div class="section">
      <div id="eligibilityContent"></div>
    </div>
    <div class="actions">
      <button class="btn btn-success" onclick="abrirVisualizacaoCurriculo()">ğŸ‘ï¸ Visualizar CurrÃ­culo</button>
      <button class="btn btn-primary" onclick="downloadJsonCurriculo()">ğŸ’¾ Baixar JSON</button>
      <button class="btn btn-secondary" onclick="closeCurriculoModal()">Fechar</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: Visualizador iframe                                                -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="visualizadorModal" class="modal" style="display:none;">
  <div class="modal-content visualizador-modal-content">
    <div class="visualizador-header">
      <h2 id="visualizadorTitulo">CurrÃ­culo</h2>
      <div class="header-actions">
        <button class="btn btn-primary btn-small" onclick="imprimirDoVisualizador()">ğŸ–¨ï¸ PDF</button>
        <button class="btn btn-secondary btn-small" onclick="closeVisualizadorModal()">âœ•</button>
      </div>
    </div>
    <iframe id="resumeIframe" title="Visualizador de CurrÃ­culo"></iframe>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<!-- MODAL: ConfirmaÃ§Ã£o                                                        -->
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="confirmModal" class="modal" style="display:none;">
  <div class="modal-content confirm-modal-content">
    <div class="confirm-icon">âš ï¸</div>
    <h3 id="confirmTitulo">Confirmar aÃ§Ã£o</h3>
    <p id="confirmMensagem">Tem certeza?</p>
    <div class="confirm-actions">
      <button id="confirmBtn" class="btn btn-danger">Confirmar</button>
      <button class="btn btn-secondary" onclick="closeConfirmModal()">Cancelar</button>
    </div>
  </div>
</div>

<!-- Scripts: DB primeiro, depois lÃ³gica -->
<script src="assets/js/db.js"></script>
<script src="assets/js/main.js"></script>
<script src="assets/js/vagas.js"></script>
</body>
</html>
